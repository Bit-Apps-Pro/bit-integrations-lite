{"version":3,"file":"bi.46.750.js","sources":["../frontend-dev/src/components/AllIntegrations/Slack/SlackActions.jsx","../frontend-dev/src/components/AllIntegrations/Slack/SlackIntegLayout.jsx"],"sourcesContent":["/* eslint-disable no-param-reassign */\n\nimport { useState } from 'react'\nimport { __ } from '../../../Utils/i18nwrap'\nimport ConfirmModal from '../../Utilities/ConfirmModal'\nimport TableCheckBox from '../../Utilities/TableCheckBox'\n\nexport default function SlackActions({ formFields, slackConf, setSlackConf }) {\n  const [actionMdl, setActionMdl] = useState({ show: false })\n  const actionHandler = (e) => {\n    const newConf = { ...slackConf }\n    if (e.target.value !== '') {\n      newConf.actions.attachments = e.target.value\n    } else {\n      delete newConf.actions.attachments\n    }\n    setSlackConf({ ...newConf })\n  }\n  return (\n    <div className=\"pos-rel\">\n      <div className=\"d-flx flx-wrp\">\n        <TableCheckBox onChange={() => setActionMdl({ show: 'attachments' })} checked={'attachments' in slackConf.actions} className=\"wdt-200 mt-4 mr-2\" value=\"Attachment\" title={__('Attachments', 'bit-integrations')} subTitle={__('Add attachments from Bit Integrations to send Slack.', 'bit-integrations')} />\n      </div>\n\n      <ConfirmModal\n        className=\"custom-conf-mdl\"\n        mainMdlCls=\"o-v\"\n        btnClass=\"blue\"\n        btnTxt=\"Ok\"\n        show={actionMdl.show === 'attachments'}\n        close={() => setActionMdl({ show: false })}\n        action={() => setActionMdl({ show: false })}\n        title={__('Select Attachment', 'bit-integrations')}\n      >\n        <div className=\"btcd-hr mt-2\" />\n        <div className=\"mt-2\">{__('Please select file upload fields', 'bit-integrations')}</div>\n        <select onChange={(e) => actionHandler(e)} name=\"attachments\" value={slackConf.actions?.attachments} className=\"btcd-paper-inp w-10 mt-2\">\n          <option value=\"\">{__('Select file upload field', 'bit-integrations')}</option>\n          {\n            formFields.filter(itm => (itm.type === 'file')).map(itm => (\n              <option key={itm.name + 1} value={itm.name}>\n                {itm.label}\n              </option>\n            ))\n          }\n        </select>\n      </ConfirmModal>\n    </div>\n  )\n}\n","import MultiSelect from 'react-multiple-select-dropdown-lite'\nimport { useParams } from 'react-router-dom'\nimport { __ } from '../../../Utils/i18nwrap'\nimport CheckBox from '../../Utilities/CheckBox'\nimport Loader from '../../Loaders/Loader'\nimport TinyMCE from '../../Utilities/TinyMCE'\nimport SlackActions from './SlackActions'\n\nexport default function SlackIntegLayout({ formFields,\n  slackConf,\n  setSlackConf,\n  isLoading }) {\n  const { id } = useParams()\n  const handleInput = (e) => {\n    const newConf = { ...slackConf }\n    newConf[e.target.name] = e.target.value\n    setSlackConf(newConf)\n  }\n\n  const setMessageBody = (val) => {\n    const newConf = { ...slackConf }\n    newConf.body = val\n    setSlackConf(newConf)\n  }\n  const changeActionRun = (e) => {\n    const newConf = { ...slackConf }\n    if (newConf?.body) {\n      newConf.body = ''\n    }\n    newConf.parse_mode = e.target.value\n    setSlackConf(newConf)\n  }\n\n  return (\n    <>\n      <br />\n      <div className=\"flx\">\n        <b className=\"wdt-200 d-in-b\">\n          {__('Channels List: ', 'bit-integrations')}\n        </b>\n        <select\n          onChange={handleInput}\n          name=\"channel_id\"\n          value={slackConf.channel_id}\n          className=\"btcd-paper-inp w-5\"\n        >\n          <option value=\"\">\n            {__('Select Channel List', 'bit-integrations')}\n          </option>\n          {\n            slackConf?.tokenDetails?.channels\n              && slackConf?.tokenDetails?.channels.map(({ id, name }) => (\n                <option key={id} value={id}>\n                  {name}\n                </option>\n              ))\n          }\n        </select>\n      </div>\n      {isLoading && (\n        <Loader\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            height: 100,\n            transform: 'scale(0.7)',\n          }}\n        />\n      )}\n      {slackConf?.channel_id && (\n        <>\n          <div className=\"flx mt-4\">\n            <b className=\"wdt-200 d-in-b mr-16\">\n              {__('Messages: ', 'bit-integrations')}\n            </b>\n            <textarea\n              className=\"w-7\"\n              onChange={handleInput}\n              name=\"body\"\n              rows=\"5\"\n              value={slackConf.body}\n            />\n            <MultiSelect\n              options={formFields\n                .filter((f) => f.type !== 'file')\n                .map((f) => ({ label: f.label, value: `\\${${f.name}}` }))}\n              className=\"btcd-paper-drpdwn wdt-600 ml-2\"\n              onChange={(val) => setMessageBody(val)}\n            />\n          </div>\n          <div className=\"mt-4\">\n            <b className=\"wdt-100\">{__('Actions', 'bit-integrations')}</b>\n          </div>\n          <div className=\"btcd-hr mt-1\" />\n          <SlackActions\n            slackConf={slackConf}\n            setSlackConf={setSlackConf}\n            formFields={formFields}\n          />\n        </>\n      )}\n    </>\n  )\n}\n"],"names":["SlackActions","formFields","slackConf","setSlackConf","actionMdl","setActionMdl","useState","actionHandler","e","newConf","__spreadValues","jsxs","jsx","TableCheckBox","__","ConfirmModal","_a","itm","SlackIntegLayout","isLoading","useParams","handleInput","setMessageBody","val","Fragment","_b","id","name","Loader","MultiSelect","f"],"mappings":"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"}