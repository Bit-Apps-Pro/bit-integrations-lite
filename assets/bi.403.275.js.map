{"version":3,"file":"bi.403.275.js","sources":["../frontend-dev/src/components/AllIntegrations/ConstantContact/ConstantContactAuthorization.jsx"],"sourcesContent":["import { useState } from 'react'\nimport BackIcn from '../../../Icons/BackIcn'\nimport { __ } from '../../../Utils/i18nwrap'\nimport LoaderSm from '../../Loaders/LoaderSm'\nimport Note from '../../Utilities/Note'\nimport CopyText from '../../Utilities/CopyText'\nimport { handleConstantContactAuthorize } from './ConstantContactCommonFunc'\nimport tutorialLinks from '../../../Utils/StaticData/tutorialLinks'\nimport TutorialLink from '../../Utilities/TutorialLink'\n\nexport default function ConstantContactAuthorization({ constantContactConf, setConstantContactConf, step, setstep, isLoading, setIsLoading, setSnackbar, redirectLocation, isInfo }) {\n  const [isAuthorized, setisAuthorized] = useState(false)\n  const { constantContact } = tutorialLinks\n  const [error, setError] = useState({\n    dataCenter: '',\n    clientId: '',\n    clientSecret: '',\n  })\n  const scopes = 'account_read account_update contact_data offline_access campaign_data'\n  const nextPage = () => {\n    setTimeout(() => {\n      document.getElementById('btcd-settings-wrp').scrollTop = 0\n    }, 300)\n    setstep(2)\n  }\n\n  const handleInput = (e) => {\n    const newConf = { ...constantContactConf }\n    const rmError = { ...error }\n    rmError[e.target.name] = ''\n    newConf[e.target.name] = e.target.value\n    setError(rmError)\n    setConstantContactConf(newConf)\n  }\n\n  const note = `\n  <h4> Step of get API Key(Client Id) And Client Secret:</h4>\n  <ul>\n    <li>Goto <a href=\"https://app.constantcontact.com/pages/dma/portal/?_ga=2.91540634.1868552181.1667660766-5cc88792-fd06-40a8-9b8c-e27659667215\">Constant Contact Application</a></li>\n    <li>Then create a new application.</li>\n    <li>Select  <b>(Authorization Code Flow and Implicit Flow)</b> and <b>(Rotating Refresh Tokens or Long Lived Refresh Tokens).</b></li>\n    <li>Copy the <b>Authorized Redirect URIs</b> from here and paste it into the Constant Contact application form.</li> \n    <li>Then generate <b>Client Secret</b> from the Constant Contact application</li>\n    <li>Copy the <b>Client Id</b> and <b>Client Secret</b> from Constant Contact application and paste into this authorization form.</li>\n    <li>Finally, click <b>Authorize</b> button.</li>\n</ul>\n`\n\n  return (\n    <div\n      className=\"btcd-stp-page\"\n      style={{\n        ...{ width: step === 1 && 900 },\n        ...{ height: step === 1 && 'auto' },\n      }}\n    >\n      {constantContact?.youTubeLink && (\n        <TutorialLink\n          title={constantContact?.title}\n          youTubeLink={constantContact?.youTubeLink}\n        />\n      )}\n      {constantContact?.docLink && (\n        <TutorialLink\n          title={constantContact?.title}\n          docLink={constantContact?.docLink}\n        />\n      )}\n\n      <div className=\"mt-3\">\n        <b>{__('Integration Name:', 'bit-integrations')}</b>\n      </div>\n      <input\n        className=\"btcd-paper-inp w-6 mt-1\"\n        onChange={handleInput}\n        name=\"name\"\n        value={constantContactConf.name}\n        type=\"text\"\n        placeholder={__('Integration Name...', 'bit-integrations')}\n        disabled={isInfo}\n      />\n\n      <div className=\"mt-3\">\n        <b>{__('Homepage URL:', 'bit-integrations')}</b>\n      </div>\n      <CopyText\n        value={`${window.location.origin}`}\n        className=\"field-key-cpy w-6 ml-0\"\n        readOnly={isInfo}\n        setSnackbar={setSnackbar}\n      />\n\n      <div className=\"mt-3\">\n        <b>{__('Authorized Redirect URIs:', 'bit-integrations')}</b>\n      </div>\n      <CopyText\n        value={redirectLocation || `${btcbi.api.base}/redirect`}\n        setSnackbar={setSnackbar}\n        className=\"field-key-cpy w-6 ml-0\"\n        readOnly={isInfo}\n      />\n\n      <small className=\"d-blk mt-5\">\n        {__('To get Client ID and SECRET , Please Visit', 'bit-integrations')}\n        {' '}\n        <a\n          className=\"btcd-link\"\n          href=\"https://app.constantcontact.com/pages/dma/portal/?_ga=2.91540634.1868552181.1667660766-5cc88792-fd06-40a8-9b8c-e27659667215\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          {__('Constant Contact Application', 'bit-integrations')}\n        </a>\n      </small>\n\n      <div className=\"mt-3\">\n        <b>{__('Client id:', 'bit-integrations')}</b>\n      </div>\n      <input\n        className=\"btcd-paper-inp w-6 mt-1\"\n        onChange={handleInput}\n        name=\"clientId\"\n        value={constantContactConf.clientId}\n        type=\"text\"\n        placeholder={__('Client id...', 'bit-integrations')}\n        disabled={isInfo}\n      />\n      <div style={{ color: 'red', fontSize: '15px' }}>{error.clientId}</div>\n      <div className=\"mt-3\">\n        <b>{__('Client secret:', 'bit-integrations')}</b>\n      </div>\n      <input\n        className=\"btcd-paper-inp w-6 mt-1\"\n        onChange={handleInput}\n        name=\"clientSecret\"\n        value={constantContactConf.clientSecret}\n        type=\"text\"\n        placeholder={__('Client secret...', 'bit-integrations')}\n        disabled={isInfo}\n      />\n      <div style={{ color: 'red', fontSize: '15px' }}>{error.clientSecret}</div>\n      {!isInfo && (\n        <>\n          <button\n            onClick={() => handleConstantContactAuthorize(\n              'constantContact',\n              'cContact',\n              scopes,\n              constantContactConf,\n              setConstantContactConf,\n              setError,\n              setisAuthorized,\n              setIsLoading,\n              setSnackbar,\n              btcbi,\n            )}\n            className=\"btn btcd-btn-lg green sh-sm flx\"\n            type=\"button\"\n            disabled={isAuthorized || isLoading.auth}\n          >\n            {isAuthorized\n              ? __('Authorized âœ”', 'bit-integrations')\n              : __('Authorize', 'bit-integrations')}\n            {isLoading.auth && (\n              <LoaderSm size={20} clr=\"#022217\" className=\"ml-2\" />\n            )}\n          </button>\n          <br />\n          <button\n            onClick={nextPage}\n            className=\"btn f-right btcd-btn-lg green sh-sm flx\"\n            type=\"button\"\n            disabled={!isAuthorized}\n          >\n            {__('Next', 'bit-integrations')}\n            <BackIcn className=\"ml-1 rev-icn\" />\n          </button>\n        </>\n      )}\n      <Note note={note} />\n    </div>\n  )\n}\n"],"names":["ConstantContactAuthorization","constantContactConf","setConstantContactConf","step","setstep","isLoading","setIsLoading","setSnackbar","redirectLocation","isInfo","isAuthorized","setisAuthorized","useState","constantContact","tutorialLinks","error","setError","scopes","nextPage","handleInput","e","newConf","__spreadValues","rmError","note","jsxs","jsx","TutorialLink","__","CopyText","Fragment","handleConstantContactAuthorize","LoaderSm","BackIcn","Note"],"mappings":"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"}