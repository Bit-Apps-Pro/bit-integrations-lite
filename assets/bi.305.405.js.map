{"version":3,"file":"bi.305.405.js","sources":["../frontend-dev/src/components/AllIntegrations/Selzy/Selzy.jsx"],"sourcesContent":["import { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { __ } from '../../../Utils/i18nwrap'\nimport StepPage from '../../Utilities/StepPage'\nimport Steps from '../../Utilities/Steps'\nimport IntegrationStepThree from '../IntegrationHelpers/IntegrationStepThree'\nimport SelzyAuthorization from './SelzyAuthorization'\nimport { nextPage, saveConfig } from './SelzyCommonFunc'\nimport SelzyIntegLayout from './SelzyIntegLayout'\n\nfunction Selzy({ formFields, setFlow, flow, allIntegURL }) {\n  const navigate = useNavigate()\n  const [step, setStep] = useState(1)\n  const [loading, setLoading] = useState({\n    auth: false,\n    list: false,\n    tag: false,\n    page: false,\n  })\n\n  const [selzyConf, setSelzyConf] = useState({\n    name: 'Selzy',\n    type: 'Selzy',\n    authKey: process.env.NODE_ENV === 'development' ? '6rfgbuq7w7mkusbq6ec13oarzpr1qwwizybyusyo' : '',\n    field_map: [\n      { formFields: '', selzyFormField: '' },\n    ],\n    listIds: '',\n    tags: '',\n    method: '',\n    option: '0',\n    overwrite: '0',\n    doubleOption: [{ key: '0', name: 'Invitation' }, { key: '3', name: 'Auto Subscribe' }, { key: '4', name: 'Update Subscribe' }],\n    overwriteOption: [{ key: '0', name: 'Default' }, { key: '1', name: 'Field and Tag' }, { key: '2', name: 'Tag' }],\n    actions: {},\n    selzyFields: [\n      { key: 'email', label: 'Email', required: true },\n      // { key: 'name', label: 'Name', required: false },\n      { key: 'phone', label: 'Phone Number', required: false },\n    ],\n  })\n\n  const setSavePageLoad = (value) => {\n    setLoading({ ...loading, page: value })\n  }\n\n  return (\n    <div>\n      <div className=\"txt-center mt-2\"><Steps step={3} active={step} /></div>\n\n      {/* --- STEP 1 --- */}\n\n      <SelzyAuthorization\n        selzyConf={selzyConf}\n        setSelzyConf={setSelzyConf}\n        loading={loading}\n        setLoading={setLoading}\n        step={step}\n        setStep={setStep}\n      />\n\n      {/* --- STEP 2 --- */}\n\n      <StepPage\n        step={step}\n        stepNo={2}\n        style={{ width: 900, height: 'auto', overflow: 'visible' }}\n      >\n        <SelzyIntegLayout\n          selzyConf={selzyConf}\n          setSelzyConf={setSelzyConf}\n          formFields={formFields}\n          loading={loading}\n          setLoading={setLoading}\n        />\n\n        {selzyConf?.listIds && (\n          <button\n            onClick={() => nextPage(selzyConf, setStep, 3)}\n            disabled={!selzyConf.listIds || selzyConf.field_map.length < 1}\n            className=\"btn f-right btcd-btn-lg green sh-sm flx\"\n            type=\"button\"\n          >\n            {__('Next')}\n            &nbsp;\n            <div className=\"btcd-icn icn-arrow_back rev-icn d-in-b\" />\n          </button>\n        )}\n      </StepPage>\n\n      {/* --- STEP 3 --- */}\n      {selzyConf.listIds && (\n\n        <IntegrationStepThree\n          step={step}\n          saveConfig={() => saveConfig(flow, setFlow, allIntegURL, selzyConf, navigate, setSavePageLoad)}\n          isLoading={loading.page}\n          dataConf={selzyConf}\n          setDataConf={setSelzyConf}\n          formFields={formFields}\n        />\n\n      )}\n\n    </div>\n\n  )\n}\n\nexport default Selzy\n"],"names":["Selzy","formFields","setFlow","flow","allIntegURL","navigate","useNavigate","step","setStep","useState","loading","setLoading","selzyConf","setSelzyConf","setSavePageLoad","value","__spreadProps","__spreadValues","jsx","Steps","SelzyAuthorization","jsxs","StepPage","SelzyIntegLayout","nextPage","__","IntegrationStepThree","saveConfig"],"mappings":"w5BAUA,SAASA,EAAM,CAAE,WAAAC,EAAY,QAAAC,EAAS,KAAAC,EAAM,YAAAC,GAAe,CACzD,MAAMC,EAAWC,IACX,CAACC,EAAMC,CAAO,EAAIC,WAAS,CAAC,EAC5B,CAACC,EAASC,CAAU,EAAIF,WAAS,CACrC,KAAM,GACN,KAAM,GACN,IAAK,GACL,KAAM,EAAA,CACP,EAEK,CAACG,EAAWC,CAAY,EAAIJ,WAAS,CACzC,KAAM,QACN,KAAM,QACN,QAA+F,GAC/F,UAAW,CACT,CAAE,WAAY,GAAI,eAAgB,EAAG,CACvC,EACA,QAAS,GACT,KAAM,GACN,OAAQ,GACR,OAAQ,IACR,UAAW,IACX,aAAc,CAAC,CAAE,IAAK,IAAK,KAAM,YAAgB,EAAA,CAAE,IAAK,IAAK,KAAM,kBAAoB,CAAE,IAAK,IAAK,KAAM,mBAAoB,EAC7H,gBAAiB,CAAC,CAAE,IAAK,IAAK,KAAM,SAAa,EAAA,CAAE,IAAK,IAAK,KAAM,iBAAmB,CAAE,IAAK,IAAK,KAAM,MAAO,EAC/G,QAAS,CAAC,EACV,YAAa,CACX,CAAE,IAAK,QAAS,MAAO,QAAS,SAAU,EAAK,EAE/C,CAAE,IAAK,QAAS,MAAO,eAAgB,SAAU,EAAM,CACzD,CAAA,CACD,EAEKK,EAAmBC,GAAU,CACjCJ,EAAWK,EAAAC,EAAA,GAAKP,GAAL,CAAc,KAAMK,CAAO,EAAA,CAAA,EAGxC,cACG,MACC,CAAA,SAAA,CAACG,EAAAA,IAAA,MAAA,CAAI,UAAU,kBAAkB,SAAAA,EAAA,IAACC,GAAM,KAAM,EAAG,OAAQZ,CAAA,CAAM,CAAE,CAAA,EAIjEW,EAAA,IAACE,EAAA,CACC,UAAAR,EACA,aAAAC,EACA,QAAAH,EACA,WAAAC,EACA,KAAAJ,EACA,QAAAC,CAAA,CACF,EAIAa,EAAA,KAACC,EAAA,CACC,KAAAf,EACA,OAAQ,EACR,MAAO,CAAE,MAAO,IAAK,OAAQ,OAAQ,SAAU,SAAU,EAEzD,SAAA,CAAAW,EAAA,IAACK,EAAA,CACC,UAAAX,EACA,aAAAC,EACA,WAAAZ,EACA,QAAAS,EACA,WAAAC,CAAA,CACF,GAECC,GAAA,YAAAA,EAAW,UACVS,EAAA,KAAC,SAAA,CACC,QAAS,IAAMG,EAASZ,EAAWJ,EAAS,CAAC,EAC7C,SAAU,CAACI,EAAU,SAAWA,EAAU,UAAU,OAAS,EAC7D,UAAU,0CACV,KAAK,SAEJ,SAAA,CAAAa,EAAG,MAAM,EAAE,IAEZP,EAAAA,IAAC,MAAI,CAAA,UAAU,wCAAyC,CAAA,CAAA,CAAA,CAC1D,CAAA,CAAA,CAEJ,EAGCN,EAAU,SAETM,EAAA,IAACQ,EAAA,CACC,KAAAnB,EACA,WAAY,IAAMoB,EAAWxB,EAAMD,EAASE,EAAaQ,EAAWP,EAAUS,CAAe,EAC7F,UAAWJ,EAAQ,KACnB,SAAUE,EACV,YAAaC,EACb,WAAAZ,CAAA,CACF,CAIJ,CAAA,CAAA,CAGJ"}