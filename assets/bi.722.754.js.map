{"version":3,"file":"bi.722.754.js","sources":["../frontend-dev/src/components/AllIntegrations/WPCourseware/WPCoursewareCommonFunc.js","../frontend-dev/src/components/AllIntegrations/WPCourseware/WPCoursewareIntegLayout.jsx"],"sourcesContent":["import toast from 'react-hot-toast'\nimport { __ } from '../../../Utils/i18nwrap'\nimport bitsFetch from '../../../Utils/bitsFetch'\n\nexport const getWPCoursewareActions = (wpCoursewareConf, setWPCoursewareConf) => {\n  const response = bitsFetch({}, 'wpCourseware_actions')\n    .then(result => {\n      const newConf = { ...wpCoursewareConf }\n      if (result.data.WPCWActions) {\n        newConf.default.WPCWActions = result.data.WPCWActions\n      }\n      getWPCoursewareCourses(newConf, setWPCoursewareConf)\n    })\n\n  toast.promise(response, {\n    success: __('Action Refreshed', 'bit-integrations'),\n    error: __('Failed, Try Again', 'bit-integrations'),\n    loading: __('Fetching...'),\n  })\n}\n\nexport const getWPCoursewareCourses = (wpCoursewareConf, setWPCoursewareConf) => {\n  const response = bitsFetch({}, 'wpCourseware_courses')\n    .then(result => {\n      const newConf = { ...wpCoursewareConf }\n      if (result.data.WPCWCourses) {\n        newConf.default.WPCWCourses = result.data.WPCWCourses\n      }\n      setWPCoursewareConf({ ...newConf })\n    })\n\n  toast.promise(response, {\n    success: __('Course Refreshed', 'bit-integrations'),\n    error: __('Failed, Try Again', 'bit-integrations'),\n    loading: __('Fetching...'),\n  })\n}\n\nexport const handleInput = (e, wpCoursewareConf, setWPCoursewareConf) => {\n  const newConf = { ...wpCoursewareConf }\n  newConf.name = e.target.value\n  setWPCoursewareConf({ ...newConf })\n}\n","// eslint-disable-next-line import/no-extraneous-dependencies\nimport MultiSelect from 'react-multiple-select-dropdown-lite'\nimport { __ } from '../../../Utils/i18nwrap'\nimport { getWPCoursewareCourses } from './WPCoursewareCommonFunc'\nimport Note from '../../Utilities/Note'\n\nexport default function WPCoursewareIntegLayout({ wpCoursewareConf, setWPCoursewareConf, isLoading, setIsLoading, setSnackbar }) {\n  const inputHandler = ({ target: { name, value } }) => {\n    setWPCoursewareConf({ ...wpCoursewareConf, [name]: value })\n  }\n\n  const setCourses = (val) => {\n    const newConf = { ...wpCoursewareConf }\n\n    if (val.includes('select_all_course')) {\n      newConf.selectedAllCourse = wpCoursewareConf.default.WPCWCourses\n        .filter(course => course.id !== 'select_all_course')\n        .map(course => course.id)\n    } else {\n      delete newConf.selectedAllCourse\n    }\n\n    newConf.course = val ? val.split(',') : []\n    setWPCoursewareConf({ ...newConf })\n  }\n\n  return (\n    <>\n      <br />\n      <div className=\"flx\">\n        <b className=\"wdt-200 d-in-b\">{__('WP Courseware Actions:', 'bit-integrations')}</b>\n        <select onChange={(e) => inputHandler(e)} name=\"action\" value={wpCoursewareConf.action} className=\"btcd-paper-inp w-5\">\n          <option value=\"\">{__('Select Action', 'bit-integrations')}</option>\n          {wpCoursewareConf?.default?.WPCWActions && Object.values(wpCoursewareConf.default.WPCWActions).map(({ id, title }) => (\n            <option key={`${id}-1`} value={id}>\n              {title}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {wpCoursewareConf?.action && (\n        <div className=\"flx mt-4\">\n          <b className=\"wdt-200 d-in-b\">{__('WP Courseware Courses: ', 'bit-integrations')}</b>\n          <MultiSelect\n            defaultValue={wpCoursewareConf?.course}\n            className=\"btcd-paper-drpdwn w-5\"\n            options={wpCoursewareConf?.default?.WPCWCourses && Object.values(wpCoursewareConf.default.WPCWCourses).map(({ id, title }) => ({ label: title, value: id.toString() }))}\n            onChange={val => setCourses(val)}\n          />\n          <button onClick={() => getWPCoursewareCourses(wpCoursewareConf, setWPCoursewareConf, setIsLoading, setSnackbar)} className=\"icn-btn sh-sm ml-2 mr-2 tooltip\" style={{ '--tooltip-txt': `'${__('Refresh WP Courseware Courses', 'bit-integrations')}'` }} type=\"button\" disabled={isLoading}>&#x21BB;</button>\n        </div>\n      )}\n      <br />\n      <br />\n      <Note\n        note=\"This integration will only work for logged-in users.\"\n      />\n    </>\n  )\n}\n"],"names":["jsxRuntimeExports","bitsFetch","_t","__","u","Note","getWPCoursewareActions","wpCoursewareConf","setWPCoursewareConf","response","result","newConf","__spreadValues","getWPCoursewareCourses","toast","handleInput","e","WPCoursewareIntegLayout","isLoading","setIsLoading","setSnackbar","_a","_b","inputHandler","name","value","__spreadProps","setCourses","val","course","jsxs","Fragment","jsx","id","title","MultiSelect"],"mappings":"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"}