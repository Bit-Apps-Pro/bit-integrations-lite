{"version":3,"file":"bi.389.416.js","sources":["../frontend-dev/src/components/AllIntegrations/Notion/Notion.jsx"],"sourcesContent":["/* eslint-disable import/no-named-as-default */\n/* eslint-disable import/no-named-as-default-member */\n/* eslint-disable no-unused-expressions */\nimport { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { __ } from '../../../Utils/i18nwrap'\nimport StepPage from '../../Utilities/StepPage'\nimport Steps from '../../Utilities/Steps'\nimport { setGrantTokenResponse } from '../IntegrationHelpers/GoogleIntegrationHelpers'\nimport IntegrationStepThree from '../IntegrationHelpers/IntegrationStepThree'\nimport NotionAuthorization from './NotionAuthorization'\nimport { nextPage, saveConfig } from './NotionCommonFunc'\nimport NotionIntegLayout from './NotionIntegLayout'\n\nfunction Notion({ formFields, setFlow, flow, allIntegURL }) {\n  const navigate = useNavigate()\n  useEffect(() => {\n    window.opener && setGrantTokenResponse('notion')\n  }, [])\n\n  const [step, setStep] = useState(1)\n  const [loading, setLoading] = useState({\n    auth: false,\n    list: false,\n    page: false,\n    field: false,\n  })\n  const [notionConf, setNotionConf] = useState({\n    name: 'Notion',\n    type: 'Notion',\n    clientId: process.env.NODE_ENV === 'development' ? '3666dc6d-8e41-4e04-b0d7-c652b0fccfaa' : '',\n    clientSecret: process.env.NODE_ENV === 'development' ? 'secret_hU4uEb602cEHr8F9r612UBcNfSDJBcn6uXod7F262c8' : '',\n    databaseId: '',\n    field_map: [{ formFields: '', notionFormFields: '' }],\n    notionFields: '',\n  })\n  const setSavePageLoad = (value) => {\n    setLoading({ ...loading, page: value })\n  }\n\n  return (\n    <div>\n      <div className=\"txt-center mt-2\"><Steps step={3} active={step} /></div>\n      <NotionAuthorization\n        step={step}\n        setStep={setStep}\n        notionConf={notionConf}\n        setNotionConf={setNotionConf}\n        loading={loading}\n        setLoading={setLoading}\n      />\n\n      {/* --- STEP 2 --- */}\n\n      <StepPage\n        step={step}\n        stepNo={2}\n        style={{ width: 900, height: 'auto', overflow: 'visible' }}\n      >\n        <NotionIntegLayout\n          notionConf={notionConf}\n          setNotionConf={setNotionConf}\n          formFields={formFields}\n          loading={loading}\n          setLoading={setLoading}\n        />\n        {notionConf?.databaseId && (\n          <button\n            onClick={() => nextPage(notionConf, setStep, 3)}\n            disabled={!notionConf.databaseId || notionConf.field_map.length < 1}\n            className=\"btn f-right btcd-btn-lg green sh-sm flx\"\n            type=\"button\"\n          >\n            {__('Next')}\n            &nbsp;\n            <div className=\"btcd-icn icn-arrow_back rev-icn d-in-b\" />\n          </button>\n        )}\n      </StepPage>\n\n      {notionConf.databaseId && (\n\n        <IntegrationStepThree\n          step={step}\n          saveConfig={() => saveConfig(flow, setFlow, allIntegURL, notionConf, navigate, setSavePageLoad)}\n          isLoading={loading.page}\n          dataConf={notionConf}\n          setDataConf={setNotionConf}\n          formFields={formFields}\n        />\n\n      )}\n    </div>\n  )\n}\n\nexport default Notion\n"],"names":["Notion","formFields","setFlow","flow","allIntegURL","navigate","useNavigate","useEffect","setGrantTokenResponse","step","setStep","useState","loading","setLoading","notionConf","setNotionConf","setSavePageLoad","value","__spreadProps","__spreadValues","jsx","Steps","NotionAuthorization","jsxs","StepPage","NotionIntegLayout","nextPage","__","IntegrationStepThree","saveConfig"],"mappings":"u7BAcA,SAASA,EAAO,CAAE,WAAAC,EAAY,QAAAC,EAAS,KAAAC,EAAM,YAAAC,GAAe,CAC1D,MAAMC,EAAWC,IACjBC,EAAAA,UAAU,IAAM,CACP,OAAA,QAAUC,EAAsB,QAAQ,CACjD,EAAG,CAAE,CAAA,EAEL,KAAM,CAACC,EAAMC,CAAO,EAAIC,WAAS,CAAC,EAC5B,CAACC,EAASC,CAAU,EAAIF,WAAS,CACrC,KAAM,GACN,KAAM,GACN,KAAM,GACN,MAAO,EAAA,CACR,EACK,CAACG,EAAYC,CAAa,EAAIJ,WAAS,CAC3C,KAAM,SACN,KAAM,SACN,SAA4F,GAC5F,aAA8G,GAC9G,WAAY,GACZ,UAAW,CAAC,CAAE,WAAY,GAAI,iBAAkB,GAAI,EACpD,aAAc,EAAA,CACf,EACKK,EAAmBC,GAAU,CACjCJ,EAAWK,EAAAC,EAAA,GAAKP,GAAL,CAAc,KAAMK,CAAO,EAAA,CAAA,EAGxC,cACG,MACC,CAAA,SAAA,CAACG,EAAAA,IAAA,MAAA,CAAI,UAAU,kBAAkB,SAAAA,EAAA,IAACC,GAAM,KAAM,EAAG,OAAQZ,CAAA,CAAM,CAAE,CAAA,EACjEW,EAAA,IAACE,EAAA,CACC,KAAAb,EACA,QAAAC,EACA,WAAAI,EACA,cAAAC,EACA,QAAAH,EACA,WAAAC,CAAA,CACF,EAIAU,EAAA,KAACC,EAAA,CACC,KAAAf,EACA,OAAQ,EACR,MAAO,CAAE,MAAO,IAAK,OAAQ,OAAQ,SAAU,SAAU,EAEzD,SAAA,CAAAW,EAAA,IAACK,EAAA,CACC,WAAAX,EACA,cAAAC,EACA,WAAAd,EACA,QAAAW,EACA,WAAAC,CAAA,CACF,GACCC,GAAA,YAAAA,EAAY,aACXS,EAAA,KAAC,SAAA,CACC,QAAS,IAAMG,EAASZ,EAAYJ,EAAS,CAAC,EAC9C,SAAU,CAACI,EAAW,YAAcA,EAAW,UAAU,OAAS,EAClE,UAAU,0CACV,KAAK,SAEJ,SAAA,CAAAa,EAAG,MAAM,EAAE,IAEZP,EAAAA,IAAC,MAAI,CAAA,UAAU,wCAAyC,CAAA,CAAA,CAAA,CAC1D,CAAA,CAAA,CAEJ,EAECN,EAAW,YAEVM,EAAA,IAACQ,EAAA,CACC,KAAAnB,EACA,WAAY,IAAMoB,EAAW1B,EAAMD,EAASE,EAAaU,EAAYT,EAAUW,CAAe,EAC9F,UAAWJ,EAAQ,KACnB,SAAUE,EACV,YAAaC,EACb,WAAAd,CAAA,CACF,CAGJ,CAAA,CAAA,CAEJ"}