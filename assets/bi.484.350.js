import{i as I,u as v,r as n,j as t}from"./main-579.js";import{e as B,_ as m}from"./bi.305.82.js";import{B as y}from"./bi.144.730.js";import{S as k}from"./bi.703.923.js";import{e as C}from"./bi.199.686.js";import{I as _}from"./bi.463.687.js";import N from"./bi.736.240.js";import{c as w}from"./bi.287.724.js";import{S as E}from"./bi.929.725.js";import"./bi.333.690.js";import"./bi.718.684.js";import"./bi.511.747.js";import"./bi.251.691.js";import"./bi.62.692.js";import"./bi.792.693.js";function O({formFields:l,setFlow:u,flow:f,allIntegURL:g}){const x=I(),{formID:c}=v(),[a,r]=n.useState(!1),[s,d]=n.useState(1),[S,i]=n.useState({show:!1}),[b,p]=n.useState({templateId:"",RedirectionUrl:""}),[e,o]=n.useState({name:"Brevo(Sendinblue)",type:"Brevo(Sendinblue)",lists:[],api_key:"",field_map:[{formField:"",sendinBlueField:""}],actions:{}}),h=j=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),j===3){if(e.templateId===""||e.redirectionUrl===""){p({templateId:e.templateId?"":m("Template name cann't be empty","bit-integrations"),redirectionUrl:e.redirectionUrl?"":m("Redirection url name cann't be empty","bit-integrations")});return}if(!w(e)){i({show:!0,msg:"Please map all required fields to continue."});return}e.name!==""&&e.field_map.length>0&&d(3)}};return t.jsxs("div",{children:[t.jsx(B,{snack:S,setSnackbar:i}),t.jsx("div",{className:"txt-center mt-2",children:t.jsx(k,{step:3,active:s})}),t.jsx(N,{formID:c,sendinBlueConf:e,setSendinBlueConf:o,step:s,setstep:d,isLoading:a,setIsLoading:r,setSnackbar:i}),t.jsxs("div",{className:"btcd-stp-page",style:{width:s===2&&900,height:s===2&&"auto"},children:[t.jsx(E,{formID:c,formFields:l,sendinBlueConf:e,setSendinBlueConf:o,isLoading:a,setIsLoading:r,setSnackbar:i,error:b,setError:p}),t.jsxs("button",{onClick:()=>h(3),disabled:e.field_map.length<1,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[m("Next","bit-integrations"),t.jsx(y,{className:"ml-1 rev-icn"})]})]}),t.jsx(_,{step:s,saveConfig:()=>C(f,u,g,e,x,"","",r),isLoading:a,dataConf:e,setDataConf:o,formFields:l})]})}export{O as default};
//# sourceMappingURL=bi.484.350.js.map
