{"version":3,"file":"bi.944.410.js","sources":["../frontend-dev/src/components/AllIntegrations/Moosend/Moosend.jsx"],"sourcesContent":["import { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { __ } from '../../../Utils/i18nwrap'\nimport StepPage from '../../Utilities/StepPage'\nimport Steps from '../../Utilities/Steps'\nimport IntegrationStepThree from '../IntegrationHelpers/IntegrationStepThree'\nimport MoosendAuthorization from './MoosendAuthorization'\nimport { nextPage, saveConfig } from './MoosendCommonFunc'\nimport MoosendIntegLayout from './MoosendIntegLayout'\n\nfunction Moosend({ formFields, setFlow, flow, allIntegURL }) {\n  const navigate = useNavigate()\n  const [step, setStep] = useState(1)\n  const [loading, setLoading] = useState({\n    auth: false,\n    list: false,\n    page: false,\n  })\n  const [moosendConf, setMoosendConf] = useState({\n    name: 'Moosend',\n    type: 'Moosend',\n    authKey: process.env.NODE_ENV === 'development' ? '066846f2-debb-4d09-8615-9849f5b15d3a' : '',\n    field_map: [\n      { formFields: '', moosendFormFields: '' },\n    ],\n    listId: '',\n    method: '',\n    actions: {},\n    moosendFields: [\n      { key: 'Email', label: 'Email', required: true },\n      { key: 'Name', label: 'Name', required: false },\n      { key: 'Mobile', label: 'Mobile', required: false },\n    ],\n\n  })\n\n  const setSavePageLoad = (value) => {\n    setLoading({ ...loading, page: value })\n  }\n\n  return (\n    <div>\n      <div className=\"txt-center mt-2\"><Steps step={3} active={step} /></div>\n\n      {/* --- STEP 1 --- */}\n\n      <MoosendAuthorization\n        moosendConf={moosendConf}\n        setMoosendConf={setMoosendConf}\n        loading={loading}\n        setLoading={setLoading}\n        step={step}\n        setStep={setStep}\n      />\n\n      {/* --- STEP 2 --- */}\n\n      <StepPage\n        step={step}\n        stepNo={2}\n        style={{ width: 900, height: 'auto', overflow: 'visible' }}\n      >\n        <MoosendIntegLayout\n          moosendConf={moosendConf}\n          setMoosendConf={setMoosendConf}\n          formFields={formFields}\n          loading={loading}\n          setLoading={setLoading}\n        />\n        {moosendConf?.method && (\n          <button\n            onClick={() => nextPage(moosendConf, setStep, 3)}\n            disabled={moosendConf.field_map.length < 1}\n            className=\"btn f-right btcd-btn-lg green sh-sm flx\"\n            type=\"button\"\n          >\n            {__('Next')}\n            &nbsp;\n            <div className=\"btcd-icn icn-arrow_back rev-icn d-in-b\" />\n          </button>\n        )}\n\n      </StepPage>\n\n      {/* --- STEP 3 --- */}\n\n      {moosendConf.method && (\n\n        <IntegrationStepThree\n          step={step}\n          saveConfig={() => saveConfig(flow, setFlow, allIntegURL, moosendConf, navigate, setSavePageLoad)}\n          isLoading={loading.page}\n          dataConf={moosendConf}\n          setDataConf={setMoosendConf}\n          formFields={formFields}\n        />\n\n      )}\n    </div>\n  )\n}\n\nexport default Moosend\n"],"names":["Moosend","formFields","setFlow","flow","allIntegURL","navigate","useNavigate","step","setStep","useState","loading","setLoading","moosendConf","setMoosendConf","setSavePageLoad","value","__spreadProps","__spreadValues","jsx","Steps","MoosendAuthorization","jsxs","StepPage","MoosendIntegLayout","nextPage","__","IntegrationStepThree","saveConfig"],"mappings":"m5BAUA,SAASA,EAAQ,CAAE,WAAAC,EAAY,QAAAC,EAAS,KAAAC,EAAM,YAAAC,GAAe,CAC3D,MAAMC,EAAWC,IACX,CAACC,EAAMC,CAAO,EAAIC,WAAS,CAAC,EAC5B,CAACC,EAASC,CAAU,EAAIF,WAAS,CACrC,KAAM,GACN,KAAM,GACN,KAAM,EAAA,CACP,EACK,CAACG,EAAaC,CAAc,EAAIJ,WAAS,CAC7C,KAAM,UACN,KAAM,UACN,QAA2F,GAC3F,UAAW,CACT,CAAE,WAAY,GAAI,kBAAmB,EAAG,CAC1C,EACA,OAAQ,GACR,OAAQ,GACR,QAAS,CAAC,EACV,cAAe,CACb,CAAE,IAAK,QAAS,MAAO,QAAS,SAAU,EAAK,EAC/C,CAAE,IAAK,OAAQ,MAAO,OAAQ,SAAU,EAAM,EAC9C,CAAE,IAAK,SAAU,MAAO,SAAU,SAAU,EAAM,CACpD,CAAA,CAED,EAEKK,EAAmBC,GAAU,CACjCJ,EAAWK,EAAAC,EAAA,GAAKP,GAAL,CAAc,KAAMK,CAAO,EAAA,CAAA,EAGxC,cACG,MACC,CAAA,SAAA,CAACG,EAAAA,IAAA,MAAA,CAAI,UAAU,kBAAkB,SAAAA,EAAA,IAACC,GAAM,KAAM,EAAG,OAAQZ,CAAA,CAAM,CAAE,CAAA,EAIjEW,EAAA,IAACE,EAAA,CACC,YAAAR,EACA,eAAAC,EACA,QAAAH,EACA,WAAAC,EACA,KAAAJ,EACA,QAAAC,CAAA,CACF,EAIAa,EAAA,KAACC,EAAA,CACC,KAAAf,EACA,OAAQ,EACR,MAAO,CAAE,MAAO,IAAK,OAAQ,OAAQ,SAAU,SAAU,EAEzD,SAAA,CAAAW,EAAA,IAACK,EAAA,CACC,YAAAX,EACA,eAAAC,EACA,WAAAZ,EACA,QAAAS,EACA,WAAAC,CAAA,CACF,GACCC,GAAA,YAAAA,EAAa,SACZS,EAAA,KAAC,SAAA,CACC,QAAS,IAAMG,EAASZ,EAAaJ,EAAS,CAAC,EAC/C,SAAUI,EAAY,UAAU,OAAS,EACzC,UAAU,0CACV,KAAK,SAEJ,SAAA,CAAAa,EAAG,MAAM,EAAE,IAEZP,EAAAA,IAAC,MAAI,CAAA,UAAU,wCAAyC,CAAA,CAAA,CAAA,CAC1D,CAAA,CAAA,CAGJ,EAICN,EAAY,QAEXM,EAAA,IAACQ,EAAA,CACC,KAAAnB,EACA,WAAY,IAAMoB,EAAWxB,EAAMD,EAASE,EAAaQ,EAAaP,EAAUS,CAAe,EAC/F,UAAWJ,EAAQ,KACnB,SAAUE,EACV,YAAaC,EACb,WAAAZ,CAAA,CACF,CAGJ,CAAA,CAAA,CAEJ"}