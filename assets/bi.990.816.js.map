{"version":3,"file":"bi.990.816.js","sources":["../frontend-dev/src/components/AllIntegrations/Memberpress/MemberpressCommonFunc.js"],"sourcesContent":["import toast from 'react-hot-toast'\nimport bitsFetch from '../../../Utils/bitsFetch'\nimport { deepCopy } from '../../../Utils/Helpers'\nimport { sprintf, __ } from '../../../Utils/i18nwrap'\n\nexport const handleInput = (e, memberpressConf, setMemberpressConf, setIsLoading, setSnackbar, formID) => {\n  const newConf = { ...memberpressConf }\n  const { name } = e.target\n  if (e.target.value !== '') {\n    newConf[name] = e.target.value\n  } else {\n    delete newConf[name]\n  }\n  newConf[e.target.name] = e.target.value\n  setMemberpressConf({ ...newConf })\n}\n\nexport const getAllMemberShip = (memberpressConf, setMemberpressConf, setIsLoading, setSnackbar) => {\n  setIsLoading(true)\n  bitsFetch(null, 'fetch_all_membership')\n    .then((result) => {\n      if (result && result.success) {\n        setMemberpressConf((oldConf) => {\n          const newConf = { ...oldConf }\n          if (!newConf.default) {\n            newConf.default = {}\n          }\n          if (result.data) {\n            newConf.default.allMemberShips = result.data\n          }\n          return newConf\n        })\n        setIsLoading(false)\n        toast.success(__('All membership fetched successfully', 'bit-integrations'))\n        return\n      }\n      setIsLoading(false)\n      toast.error(__('Membership fetch failed. please try again', 'bit-integrations'))\n    })\n    .catch(() => setIsLoading(false))\n}\n\nexport const paymentGateway = (memberpressConf, setMemberpressConf, setIsLoading, setSnackbar) => {\n  setIsLoading(true)\n  bitsFetch(null, 'fetch_all_payment_gateway')\n    .then((result) => {\n      if (result && result.success) {\n        setMemberpressConf((oldConf) => {\n          const newConf = { ...oldConf }\n          if (!newConf.default) {\n            newConf.default = {}\n          }\n          if (result.data) {\n            newConf.default.allPaymentMethods = result.data\n          }\n          return newConf\n        })\n        setIsLoading(false)\n        toast.success(__('All payment method fetched successfully', 'bit-integrations'))\n        return\n      }\n      setIsLoading(false)\n      toast.error(__('Payment method fetch failed. please try again', 'bit-integrations'))\n    })\n    .catch(() => setIsLoading(false))\n}\n\nexport const generateMappedField = (memberpressConf) => {\n  const requiredFlds = memberpressConf?.memberpressFields.filter(fld => fld.required === true)\n  return requiredFlds.length > 0 ? requiredFlds.map(field => ({ formField: '', memberpressFormField: field.key })) : [{ formField: '', memberpressFormField: '' }]\n}\n\nexport const checkMappedFields = (memberpressConf) => {\n  const mappedFleld = memberpressConf.field_map ? memberpressConf.field_map.filter((mapped) => !mapped.formField && !mapped.memberpressFormField) : []\n  if (mappedFleld.length > 0) {\n    return false\n  }\n  return true\n}\n"],"names":["bitsFetch","_t","__","handleInput","e","memberpressConf","setMemberpressConf","setIsLoading","setSnackbar","formID","newConf","__spreadValues","name","getAllMemberShip","result","oldConf","toast","paymentGateway","generateMappedField","requiredFlds","fld","field"],"mappings":"yVAKY,OAAA,KAAAA,EAAA,KAAAC,EAAA,KAAAC,MAAA,iBAAA,MAACC,EAAc,CAACC,EAAGC,EAAiBC,EAAoBC,EAAcC,EAAaC,IAAW,CACxG,MAAMC,EAAUC,EAAA,GAAKN,GACf,CAAE,KAAAO,GAASR,EAAE,OACfA,EAAE,OAAO,QAAU,GACrBM,EAAQE,CAAI,EAAIR,EAAE,OAAO,MAEzB,OAAOM,EAAQE,CAAI,EAErBF,EAAQN,EAAE,OAAO,IAAI,EAAIA,EAAE,OAAO,MAClCE,EAAmBK,EAAA,GAAKD,EAAS,CACnC,EAEaG,EAAmB,CAACR,EAAiBC,EAAoBC,EAAcC,IAAgB,CAClGD,EAAa,EAAI,EACjBP,EAAU,KAAM,sBAAsB,EACnC,KAAMc,GAAW,CAChB,GAAIA,GAAUA,EAAO,QAAS,CAC5BR,EAAoBS,GAAY,CAC9B,MAAML,EAAUC,EAAA,GAAKI,GACrB,OAAKL,EAAQ,UACXA,EAAQ,QAAU,CAAE,GAElBI,EAAO,OACTJ,EAAQ,QAAQ,eAAiBI,EAAO,MAEnCJ,CACjB,CAAS,EACDH,EAAa,EAAK,EAClBS,EAAM,QAAQd,EAAG,sCAAuC,kBAAkB,CAAC,EAC3E,MACD,CACDK,EAAa,EAAK,EAClBS,EAAM,MAAMd,EAAG,4CAA6C,kBAAkB,CAAC,CACrF,CAAK,EACA,MAAM,IAAMK,EAAa,EAAK,CAAC,CACpC,EAEaU,EAAiB,CAACZ,EAAiBC,EAAoBC,EAAcC,IAAgB,CAChGD,EAAa,EAAI,EACjBP,EAAU,KAAM,2BAA2B,EACxC,KAAMc,GAAW,CAChB,GAAIA,GAAUA,EAAO,QAAS,CAC5BR,EAAoBS,GAAY,CAC9B,MAAML,EAAUC,EAAA,GAAKI,GACrB,OAAKL,EAAQ,UACXA,EAAQ,QAAU,CAAE,GAElBI,EAAO,OACTJ,EAAQ,QAAQ,kBAAoBI,EAAO,MAEtCJ,CACjB,CAAS,EACDH,EAAa,EAAK,EAClBS,EAAM,QAAQd,EAAG,0CAA2C,kBAAkB,CAAC,EAC/E,MACD,CACDK,EAAa,EAAK,EAClBS,EAAM,MAAMd,EAAG,gDAAiD,kBAAkB,CAAC,CACzF,CAAK,EACA,MAAM,IAAMK,EAAa,EAAK,CAAC,CACpC,EAEaW,EAAuBb,GAAoB,CACtD,MAAMc,EAAed,GAAA,YAAAA,EAAiB,kBAAkB,OAAOe,GAAOA,EAAI,WAAa,IACvF,OAAOD,EAAa,OAAS,EAAIA,EAAa,IAAIE,IAAU,CAAE,UAAW,GAAI,qBAAsBA,EAAM,GAAK,EAAC,EAAI,CAAC,CAAE,UAAW,GAAI,qBAAsB,GAAI,CACjK"}