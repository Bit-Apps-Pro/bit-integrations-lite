{"version":3,"file":"bi.412.792.js","sources":["../frontend-dev/src/components/AllIntegrations/RestrictContent/RestrictContentIntegLayout.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { __ } from \"../../../Utils/i18nwrap\";\nimport { addFieldMap } from \"./IntegrationHelpers\";\nimport { getAllLevels } from \"./RestrictContentCommonFunc\";\nimport RestrictContentFieldMap from \"./RestrictContentFieldMap\";\nimport Cooltip from '../../Utilities/Cooltip'\nimport Note from \"../../Utilities/Note\";\n\nexport default function RestrictContentIntegLayout({ formFields, handleInput, restrictConf, setRestrictConf, isLoading, setIsLoading, setSnackbar }) {\n    const handleInputAction = (e) => {\n        const newConf = { ...restrictConf };\n        const { name, value } = e.target;\n        if (e.target.value !== \"\") {\n            newConf[name] = e.target.value;\n        } else {\n            delete newConf[name];\n        }\n        setRestrictConf(newConf);\n    };\n\n    return (\n        <>\n            <br />\n            <b className=\"wdt-200 d-in-b\">{__(\"Action:\", \"bit-integrations\")}</b>\n            <select onChange={handleInputAction} name=\"actionName\" value={restrictConf?.actionName} className=\"btcd-paper-inp w-5\">\n                <option value=\"\">{__(\"Select Action\", \"bit-integrations\")}</option>\n                {restrictConf?.actionLists &&\n                    restrictConf.actionLists.map(({ key, label }) => (\n                        <option key={key} value={key}>\n                            {label}\n                        </option>\n                    ))}\n            </select>\n            <br />\n            <br />\n            {restrictConf?.actionName && (\n                <>\n                    <b className=\"wdt-200 d-in-b\">{__(\"Membership Level:\", \"bit-integrations\")}</b>\n                    <select onChange={handleInput} name=\"level_id\" value={restrictConf.level_id} className=\"btcd-paper-inp w-5\">\n                        <option value=\"\">{__(\"Select Level\", \"bit-integrations\")}</option>\n                        {restrictConf.actionName === \"remove-member-level\" && (\n                            <option value=\"all\">{__(\"All memberships\", \"bit-integrations\")}</option>\n                        )}\n                        {restrictConf?.default?.levellists &&\n                            restrictConf.default.levellists.map(({ id, name }) => (\n                                <option key={id} value={id}>\n                                    {name}\n                                </option>\n                            ))}\n                    </select>\n                    <button\n                        onClick={() => getAllLevels(restrictConf, setRestrictConf, setIsLoading)}\n                        className=\"icn-btn sh-sm ml-2 mr-2 tooltip\"\n                        style={{ \"--tooltip-txt\": `'${__(\"Fetch All Level\", \"bit-integrations\")}'` }}\n                        type=\"button\"\n                        disabled={isLoading}\n                    >\n                        &#x21BB;\n                    </button>\n                </>\n            )}\n            <br />\n            <br />\n            {restrictConf.actionName === 'add-member-level' &&\n                <div className=\"flx\">\n                    <b className=\"wdt-200 d-in-b\">{__('Expiry Date:', 'bit-integrations')}</b>\n                    <input className=\"btcd-paper-inp w-5 mt-1\" onChange={handleInput} name=\"exp_date\" value={restrictConf.exp_date || ''} type=\"date\" placeholder={__('Expiry Date', 'bit-integrations')} />\n                    <Cooltip width={250} icnSize={17} className=\"ml-2\">\n                        <div className=\"txt-body\">\n                            Leave it empty for never-expired\n                        </div>\n                    </Cooltip>\n                </div>\n            }\n            <br />\n            <br />\n            <Note\n                note=\"This integration will only work for logged-in users.\"\n            />\n            {/* {restrictConf?.actionName && restrictConf.actionName === 'add-member-level'\n        && (\n          <>\n            <b className=\"wdt-200 d-in-b\">{__('Members:', 'bit-integrations')}</b>\n            <select onChange={handleInput} name=\"member_id\" value={restrictConf.member_id} className=\"btcd-paper-inp w-5\">\n              <option value=\"\">{__('Select Member', 'bit-integrations')}</option>\n              {restrictConf?.default?.memberlists && restrictConf.default.memberlists.map(({ id, name }) => (\n                <option key={id} value={id}>\n                  {name}\n                </option>\n              ))}\n            </select>\n            <button onClick={() => getAllMembers(restrictConf, setRestrictConf, setIsLoading)} className=\"icn-btn sh-sm ml-2 mr-2 tooltip\" style={{ '--tooltip-txt': `'${__('Fetch All Members', 'bit-integrations')}'` }} type=\"button\" disabled={isLoading}>&#x21BB;</button>\n          </>\n        )} */}\n            {/* <br />\n            {restrictConf.actionName === 'add-member-level' &&\n                <>\n                    <div className=\"mt-5\">\n                        <b className=\"wdt-100\">{__(\"Field Map\", \"bit-integrations\")}</b>\n                    </div>\n                    <div className=\"btcd-hr mt-1\" />\n                    <div className=\"flx flx-around mt-2 mb-2 btcbi-field-map-label\">\n                        <div className=\"txt-dp\">\n                            <b>{__(\"Form Fields\", \"bit-integrations\")}</b>\n                        </div>\n                        <div className=\"txt-dp\">\n                            <b>{__(\"Restrict Content Fields\", \"bit-integrations\")}</b>\n                        </div>\n                    </div>\n                </>\n            }\n\n            {restrictConf?.level_id &&\n                restrictConf.actionName === \"add-member-level\" &&\n                restrictConf?.field_map.map((itm, i) => (\n                    <RestrictContentFieldMap\n                        key={`rp-m-${i + 9}`}\n                        i={i}\n                        field={itm}\n                        restrictConf={restrictConf}\n                        formFields={formFields}\n                        setRestrictConf={setRestrictConf}\n                        setSnackbar={setSnackbar}\n                    />\n                ))}\n            {restrictConf?.actionName === \"add-member-level\" && <div className=\"txt-center btcbi-field-map-button mt-2\">\n                <button\n                    onClick={() => addFieldMap(restrictConf.field_map.length, restrictConf, setRestrictConf, false)}\n                    className=\"icn-btn sh-sm\"\n                    type=\"button\"\n                >\n                    +\n                </button>\n            </div>}\n            <br />\n            <br /> */}\n        </>\n    );\n}\n"],"names":["jsxRuntimeExports","__","Cooltip","Note","getAllLevels","RestrictContentIntegLayout","formFields","handleInput","restrictConf","setRestrictConf","isLoading","setIsLoading","setSnackbar","_a","handleInputAction","e","newConf","__spreadValues","name","value","jsxs","Fragment","jsx","key","label","id"],"mappings":"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"}