{"version":3,"file":"bi.404.739.js","sources":["../frontend-dev/src/components/AllIntegrations/Encharge/EnchargeFieldMap.jsx","../frontend-dev/src/components/AllIntegrations/Encharge/EnchargeIntegLayout.jsx"],"sourcesContent":["import { useRecoilValue } from 'recoil'\nimport { $btcbi } from '../../../GlobalStates'\nimport TrashIcn from '../../../Icons/TrashIcn'\nimport { __ } from '../../../Utils/i18nwrap'\nimport { SmartTagField } from '../../../Utils/StaticData/SmartTagField'\nimport MtInput from '../../Utilities/MtInput'\nimport TagifyInput from '../../Utilities/TagifyInput'\nimport { handleCustomValue } from '../IntegrationHelpers/IntegrationHelpers'\n\nexport default function EnchargeFieldMap({ i, formFields, field, enchargeConf, setEnchargeConf }) {\n  const isRequired = field.required\n  const notResquiredField = enchargeConf?.default?.fields && Object.values(enchargeConf?.default?.fields).filter((f => !f.required))\n  const addFieldMap = (indx) => {\n    const newConf = { ...enchargeConf }\n    newConf.field_map.splice(indx, 0, {})\n    setEnchargeConf(newConf)\n  }\n\n  const delFieldMap = (indx) => {\n    const newConf = { ...enchargeConf }\n    if (newConf.field_map.length > 1) {\n      newConf.field_map.splice(indx, 1)\n    }\n    setEnchargeConf(newConf)\n  }\n\n  const handleFieldMapping = (event, indx) => {\n    const newConf = { ...enchargeConf }\n    newConf.field_map[indx][event.target.name] = event.target.value\n\n    if (event.target.value === 'custom') {\n      newConf.field_map[indx].customValue = ''\n    }\n    setEnchargeConf(newConf)\n  }\n\n  const btcbi = useRecoilValue($btcbi)\n  const { isPro } = btcbi\n\n  return (\n    <div\n      className={isRequired ? 'mt-2 mr-1 flx w-9' : 'flx mt-2 mb-2 btcbi-field-map'}\n    >\n      <select className=\"btcd-paper-inp mr-2\" name=\"formField\" value={field.formField || ''} onChange={(ev) => handleFieldMapping(ev, i)}>\n        <optgroup label=\"Form Fields\">\n          <option value=\"\">{__('Select Field', 'bit-integrations')}</option>\n          {\n            formFields.map(f => f.type !== 'file' && <option key={`ff-zhcrm-${f.name}`} value={f.name}>{f.label}</option>)\n          }\n        </optgroup>\n        <option value=\"custom\">{__('Custom...', 'bit-integrations')}</option>\n        <optgroup label={`General Smart Codes ${isPro ? '' : '(PRO)'}`}>\n          {isPro && SmartTagField?.map(f => (\n            <option key={`ff-rm-${f.name}`} value={f.name}>\n              {f.label}\n            </option>\n          ))}\n        </optgroup>\n      </select>\n\n      {field.formField === 'custom' && <TagifyInput onChange={e => handleCustomValue(e, i, enchargeConf, setEnchargeConf)} label={__('Custom Value', 'bit-integrations')} className=\"mr-2\" type=\"text\" value={field.customValue} placeholder={__('Custom Value', 'bit-integrations')} formFields={formFields} />}\n\n      <select className=\"btcd-paper-inp\" name=\"enChargeFields\" value={field.enChargeFields} onChange={(ev) => handleFieldMapping(ev, i)} disabled={isRequired}>\n        <option value=\"\">{__('Select Field', 'bit-integrations')}</option>\n        {isRequired ? enchargeConf?.default?.fields && Object.values(enchargeConf.default.fields).map(fld => (\n          <option key={`${fld.fieldId}-1`} value={fld.fieldId}>\n            {fld.fieldName}\n          </option>\n        )) : notResquiredField && notResquiredField.map(fld => (\n          <option key={`${fld.fieldId}-1`} value={fld.fieldId}>\n            {fld.fieldName}\n          </option>\n        ))}\n      </select>\n      {!isRequired\n        && (\n          <>\n            <button\n              onClick={() => addFieldMap(i)}\n              className=\"icn-btn sh-sm ml-2\"\n              type=\"button\"\n            >\n              +\n            </button>\n            <button onClick={() => delFieldMap(i)} className=\"icn-btn sh-sm ml-2\" type=\"button\" aria-label=\"btn\">\n              <TrashIcn />\n            </button>\n          </>\n        )}\n    </div>\n  )\n}\n","// eslint-disable-next-line import/no-extraneous-dependencies\nimport { __ } from '../../../Utils/i18nwrap'\nimport Cooltip from '../../Utilities/Cooltip'\nimport { addFieldMap } from '../IntegrationHelpers/IntegrationHelpers'\nimport EnchargeFieldMap from './EnchargeFieldMap'\n\nexport default function EnchargeIntegLayout({ formID, formFields, enchargeConf, setEnchargeConf }) {\n  const handleInput = (e) => {\n    const newConf = { ...enchargeConf }\n    newConf[e.target.name] = e.target.value\n    setEnchargeConf(newConf)\n  }\n  return (\n    <>\n      <br />\n      <div className=\"flx\">\n        <b className=\"wdt-200 d-in-b\">{__('Tags:', 'bit-integrations')}</b>\n        <input className=\"btcd-paper-inp w-5 mt-1\" onChange={handleInput} name=\"tags\" value={enchargeConf.tags || ''} type=\"text\" placeholder={__('tag-1, tag-2', 'bit-integrations')} />\n        <Cooltip width={250} icnSize={17} className=\"ml-2\">\n          <div className=\"txt-body\">\n            Tags separate with comma\n          </div>\n        </Cooltip>\n      </div>\n      {enchargeConf?.default?.fields !== 0\n        && (\n          <>\n            <div className=\"mt-4\">\n              <b className=\"wdt-100\">{__('Map Fields', 'bit-integrations')}</b>\n            </div>\n            <div className=\"btcd-hr mt-1\" />\n            <div className=\"flx flx-around mt-2 mb-2 btcbi-field-map-label\">\n              <div className=\"txt-dp\"><b>{__('Form Fields', 'bit-integrations')}</b></div>\n              <div className=\"txt-dp\"><b>{__('Encharge Fields', 'bit-integrations')}</b></div>\n            </div>\n\n            {enchargeConf.field_map.map((itm, i) => (\n              <EnchargeFieldMap\n                key={`sendinblue-m-${i + 9}`}\n                i={i}\n                field={itm}\n                enchargeConf={enchargeConf}\n                formFields={formFields}\n                setEnchargeConf={setEnchargeConf}\n              />\n            ))}\n            <div className=\"txt-center btcbi-field-map-button mt-2\"><button onClick={() => addFieldMap(enchargeConf.field_map.length, enchargeConf, setEnchargeConf)} className=\"icn-btn sh-sm\" type=\"button\">+</button></div>\n            <br />\n            <br />\n          </>\n        )}\n    </>\n  )\n}\n"],"names":["Recoil_index_18","jsxRuntimeExports","$btcbi","__","Cooltip","handleCustomValue","addFieldMap","TrashIcn","SmartTagField","TagifyInput","EnchargeFieldMap","i","formFields","field","enchargeConf","setEnchargeConf","_a","_b","_c","_d","isRequired","notResquiredField","f","indx","newConf","__spreadValues","delFieldMap","handleFieldMapping","event","btcbi","useRecoilValue","isPro","jsxs","ev","jsx","e","fld","Fragment","EnchargeIntegLayout","formID","handleInput","itm"],"mappings":"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"}