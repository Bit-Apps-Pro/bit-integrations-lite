var N=Object.defineProperty;var h=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var j=(a,t,i)=>t in a?N(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,o=(a,t)=>{for(var i in t||(t={}))v.call(t,i)&&j(a,i,t[i]);if(h)for(var i of h(t))_.call(t,i)&&j(a,i,t[i]);return a};import{j as l,m as w,L as $}from"./main-579.js";import{_ as d,B as M,a7 as k}from"./bi.305.82.js";import{g as R}from"./bi.666.916.js";import{S as T}from"./bi.251.691.js";import{M as S}from"./bi.333.690.js";const F=(a,t,i)=>{const e=o({},t);e.field_map.splice(a,0,{}),i(o({},e))},q=(a,t,i)=>{const e=o({},t);e.field_map.length>1&&e.field_map.splice(a,1),i(o({},e))},g=(a,t,i,e)=>{const r=o({},i);r.field_map[t][a.target.name]=a.target.value,a.target.value==="custom"&&(r.field_map[t].customValue=""),e(o({},r))},V=(a,t,i,e,r)=>{const s=o({},i);s.field_map[t][r]=a.target.value,e(o({},s))};function L({field:a,index:t,conf:i,setConf:e,fieldValue:r,fieldLabel:s,className:m}){return l.jsx(S,{onChange:p=>V(p,t,i,e,r),label:d(s,"bit-integrations"),className:m,type:"text",value:a[r],placeholder:d(s,"bit-integrations")})}function P({i:a,formFields:t,field:i,systemeIOConf:e,setSystemeIOConf:r}){var c;const s=(e==null?void 0:e.systemeIOFields)&&e.systemeIOFields.filter(n=>n.required===!0)||[],m=(e==null?void 0:e.systemeIOFields)&&e.systemeIOFields.filter(n=>n.required===!1)||[],p=w(M),{isPro:b}=p;return l.jsx("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:l.jsxs("div",{className:"pos-rel flx",children:[l.jsxs("div",{className:"flx integ-fld-wrp",children:[l.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:i.formField||"",onChange:n=>g(n,a,e,r),children:[l.jsx("option",{value:"",children:d("Select Field","bit-integrations")}),l.jsx("optgroup",{label:"Form Fields",children:t==null?void 0:t.map(n=>l.jsx("option",{value:n.name,children:n.label},`ff-rm-${n.name}`))}),l.jsx("option",{value:"custom",children:d("Custom...","bit-integrations")}),l.jsx("optgroup",{label:`General Smart Codes ${b?"":"(PRO)"}`,children:b&&((c=T)==null?void 0:c.map(n=>l.jsx("option",{value:n.name,children:n.label},`ff-rm-${n.name}`)))})]}),i.formField==="custom"&&l.jsx(L,{field:i,index:a,conf:e,setConf:r,fieldValue:"customValue",fieldLabel:"Custom Value",className:"mr-2"}),l.jsxs("select",{className:"btcd-paper-inp",disabled:a<s.length,name:"systemeIOFormField",value:a<s.length?s[a].key||"":i.systemeIOFormField||"",onChange:n=>g(n,a,e,r),children:[l.jsx("option",{value:"",children:d("Select Field","bit-integrations")}),a<s.length?l.jsx("option",{value:s[a].key,children:s[a].label},s[a].key):m.map(({key:n,label:x})=>l.jsx("option",{value:n,children:x},n))]})]}),a>=s.length&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>F(a,e,r),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),l.jsx("button",{onClick:()=>q(a,e,r),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:l.jsx("span",{className:"btcd-icn icn-trash-2"})})]})]})})}function H({formFields:a,systemeIOConf:t,setSystemeIOConf:i,loading:e,setLoading:r,isLoading:s,setIsLoading:m,setSnackbar:p}){const b=(c,n)=>{i(x=>{const u=o({},x);return u[n]=c,u})};return l.jsxs(l.Fragment,{children:[(s||e.tag||e.session)&&l.jsx($,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),t.actionName&&!e.tag&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("br",{}),l.jsxs("div",{className:"flx",children:[l.jsx("b",{className:"wdt-200 d-in-b",children:d("Select Tag:","bit-integrations")}),l.jsx(k,{options:(t==null?void 0:t.tags)&&t.tags.map(c=>({label:c.name,value:`${c.id}`})),className:"msl-wrp-options dropdown-custom-width",defaultValue:t==null?void 0:t.selectedTag,onChange:c=>b(c,"selectedTag"),singleSelect:!0,closeOnSelect:!0}),l.jsx("button",{onClick:()=>R(t,i,r),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${d("Refresh Tags","bit-integrations")}'`},type:"button",disabled:e.tag,children:"↻"})]})]}),t.actionName&&!s&&l.jsxs("div",{children:[l.jsx("br",{}),l.jsxs("div",{className:"mt-5",children:[l.jsx("b",{className:"wdt-100",children:d("Field Map","bit-integrations")}),l.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${d("Refresh Fields","bit-integrations")}'`},type:"button",children:"↻"})]}),l.jsx("br",{}),l.jsx("div",{className:"btcd-hr mt-1"}),l.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[l.jsx("div",{className:"txt-dp",children:l.jsx("b",{children:d("Form Fields","bit-integrations")})}),l.jsx("div",{className:"txt-dp",children:l.jsx("b",{children:d("SystemeIO Fields","bit-integrations")})})]}),t==null?void 0:t.field_map.map((c,n)=>l.jsx(P,{i:n,field:c,systemeIOConf:t,formFields:a,setSystemeIOConf:i,setSnackbar:p},`rp-m-${n+9}`)),l.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:l.jsx("button",{onClick:()=>F(t.field_map.length,t,i),className:"icn-btn sh-sm",type:"button",children:"+"})}),l.jsx("br",{}),l.jsx("br",{})]})]})}export{H as S};
//# sourceMappingURL=bi.302.917.js.map
