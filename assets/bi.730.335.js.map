{"version":3,"file":"bi.730.335.js","sources":["../frontend-dev/node_modules/.pnpm/react-uuid@2.0.0/node_modules/react-uuid/uuid.js","../frontend-dev/src/components/AllIntegrations/CustomAction/CustomAction.jsx"],"sourcesContent":["/**\nA function that returns a universally unique identifier (uuid).  \nexample: 1b83fd69-abe7-468c-bea1-306a8aa1c81d\n@returns `string` : 32 character uuid (see example)\n*/\nfunction uuid() {\n\tconst hashTable = [\n\t\t\"a\",\n\t\t\"b\",\n\t\t\"c\",\n\t\t\"d\",\n\t\t\"e\",\n\t\t\"f\",\n\t\t\"0\",\n\t\t\"1\",\n\t\t\"2\",\n\t\t\"3\",\n\t\t\"4\",\n\t\t\"5\",\n\t\t\"6\",\n\t\t\"7\",\n\t\t\"8\",\n\t\t\"9\",\n\t];\n\tlet uuid = [];\n\tfor (let i = 0; i < 36; i++) {\n\t\tif (i === 8 || i === 13 || i === 18 || i === 23) {\n\t\t\tuuid[i] = \"-\";\n\t\t} else {\n\t\t\tuuid[i] = hashTable[Math.ceil(Math.random() * hashTable.length - 1)];\n\t\t}\n\t}\n\treturn uuid.join(\"\");\n}\n\nmodule.exports = uuid;\n","import React, { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport uuid from 'react-uuid'\nimport { __ } from '../../../Utils/i18nwrap'\nimport SnackMsg from '../../Utilities/SnackMsg'\nimport Steps from '../../Utilities/Steps'\nimport { saveIntegConfig } from '../IntegrationHelpers/IntegrationHelpers'\nimport CustomActionStepTwo from './CustomActionStepTwo'\nimport CustomFuncEditor from './CustomFuncEditor'\nimport { checkFunctionValidity } from './CustomFunctionHelper'\nimport TutorialLink from '../../Utilities/TutorialLink'\nimport tutorialLinks from '../../../Utils/StaticData/tutorialLinks'\n\nconst CustomAction = ({ formFields, setFlow, flow, allIntegURL }) => {\n  const navigate = useNavigate()\n  const [step, setStep] = useState(1)\n  const [isLoading, setIsLoading] = useState(false)\n  const [snack, setSnackbar] = useState({ show: false })\n  const randomFileName = uuid()\n  const { customAction } = tutorialLinks\n\n  const [customActionConf, setCustomActionConf] = useState({\n    name: 'CustomAction',\n    type: 'CustomAction',\n    randomFileName,\n    defaultValue: `<?php if (!defined('ABSPATH')) {exit;} \n    \n  function yourFunctionName($trigger){\n    $trigger['yourKey'];\n    //write here your custom function\n  }  \n  yourFunctionName($trigger);`,\n    value: '',\n  })\n  useEffect(() => {\n    const newConf = { ...customActionConf }\n    delete newConf.isValid\n    setCustomActionConf({ ...newConf })\n  }, [customActionConf?.value])\n\n  const nextPage = () => {\n    setTimeout(() => {\n      document.getElementById('btcd-settings-wrp').scrollTop = 0\n    }, 300)\n    setStep(2)\n  }\n\n  return (\n    <div>\n      <SnackMsg snack={snack} setSnackbar={setSnackbar} />\n      <div className=\"txt-center mt-2\"><Steps step={2} active={step} /></div>\n\n      <div className=\"btcd-stp-page\" style={{ ...(step === 1 && { width: '70%', height: 'auto', overflow: 'visible' }) }}>\n        {customAction?.youTubeLink && (\n          <TutorialLink\n            title={customAction?.title}\n            youTubeLink={customAction?.youTubeLink}\n          />\n        )}\n        {customAction?.docLink && (\n          <TutorialLink\n            title={customAction?.title}\n            docLink={customAction?.docLink}\n          />\n        )}\n\n        <h1>custom action</h1>\n        <CustomFuncEditor\n          customActionConf={customActionConf}\n          setCustomActionConf={setCustomActionConf}\n          formFields={formFields}\n        />\n        <button\n          onClick={() => checkFunctionValidity(customActionConf, setCustomActionConf, setIsLoading)}\n          disabled={!customActionConf.value}\n          className=\"btn f-left btcd-btn-lg green sh-sm flx mt-5\"\n          type=\"button\"\n        >\n          {__('Validated ', 'bit-integrations')}\n        </button>\n        <button\n          onClick={() => nextPage(2)}\n          disabled={!customActionConf.isValid}\n          className=\"btn f-right btcd-btn-lg green sh-sm flx mt-5\"\n          type=\"button\"\n        >\n          {__('Next', 'bit-integrations')}\n          {' '}\n          &nbsp;\n          <div className=\"btcd-icn icn-arrow_back rev-icn d-in-b\" />\n        </button>\n      </div>\n\n      <div className=\"btcd-stp-page\" style={{ width: step === 2 && '100%', height: step === 2 && 'auto' }}>\n        <CustomActionStepTwo\n          step={step}\n          saveConfig={() => saveIntegConfig(flow, setFlow, allIntegURL, customActionConf, navigate, '', '', setIsLoading)}\n          isLoading={isLoading}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default CustomAction\n"],"names":["uuid","hashTable","i","uuid_1","CustomAction","formFields","setFlow","flow","allIntegURL","navigate","useNavigate","step","setStep","useState","isLoading","setIsLoading","snack","setSnackbar","randomFileName","customAction","tutorialLinks","customActionConf","setCustomActionConf","useEffect","newConf","__spreadValues","nextPage","jsx","SnackMsg","Steps","TutorialLink","CustomFuncEditor","checkFunctionValidity","__","jsxs","CustomActionStepTwo","saveIntegConfig"],"mappings":"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","x_google_ignoreList":[0]}